---
interface SidebarItem {
  label: string;
  href: string;
}

interface SidebarSection {
  title: string;
  items: SidebarItem[];
}

const sections: SidebarSection[] = [
  {
    title: "Getting Started",
    items: [
      { label: "Introduction", href: "/getting-started" },
      { label: "Configuration", href: "/configuration" },
    ],
  },
  {
    title: "Usage",
    items: [
      { label: "CLI Reference", href: "/cli" },
      { label: "TUI Guide", href: "/tui" },
      { label: "Tasks", href: "/tasks" },
    ],
  },
  {
    title: "Internals",
    items: [
      { label: "Architecture", href: "/architecture" },
    ],
  },
];

const currentPath = Astro.url.pathname.replace(/\/$/, "") || "/";
---

<aside class="hidden lg:block w-56 shrink-0">
  <nav class="sticky top-24 space-y-6">
    {sections.map((section) => (
      <div>
        <h4 class="text-xs font-medium text-secondary uppercase tracking-wider mb-2 mt-0">{section.title}</h4>
        <ul class="list-none pl-0 space-y-1">
          {section.items.map((item) => {
            const isActive = currentPath === item.href;
            return (
              <li class="mb-0">
                <a
                  href={item.href}
                  class:list={[
                    "no-underline text-sm transition-colors block py-0.5",
                    isActive
                      ? "text-primary font-medium"
                      : "text-secondary hover:text-primary",
                  ]}
                >
                  {item.label}
                </a>
              </li>
            );
          })}
        </ul>
      </div>
    ))}
  </nav>
</aside>
